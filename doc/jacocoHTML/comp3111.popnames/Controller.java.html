<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Controller.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">PopNames3111</a> &gt; <a href="index.source.html" class="el_package">comp3111.popnames</a> &gt; <span class="el_source">Controller.java</span></div><h1>Controller.java</h1><pre class="source lang-java linenums">/**
 * Building on the sample skeleton for 'ui.fxml' Controller Class generated by SceneBuilder
 */
package comp3111.popnames;

import comp3111.popnames.core.ChartSetter;
import javafx.collections.FXCollections;
import javafx.collections.ObservableList;
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.geometry.Insets;
import javafx.scene.Node;
import javafx.scene.chart.BarChart;
import javafx.scene.chart.LineChart;
import javafx.scene.chart.PieChart;
import javafx.scene.control.*;
import javafx.scene.layout.AnchorPane;
import javafx.scene.layout.VBox;
import org.apache.commons.lang3.StringUtils;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;


<span class="fc" id="L26">public class Controller {</span>

<span class="fc" id="L28">    ObservableList&lt;String&gt; genderChoice = FXCollections.observableArrayList(&quot;M&quot;,&quot;F&quot;);</span>
<span class="fc" id="L29">    ObservableList&lt;String&gt; ageChoice = FXCollections.observableArrayList(&quot;Young&quot;,&quot;Old&quot;);</span>
<span class="fc" id="L30">    ObservableList&lt;String&gt; ageChoice2 = FXCollections.observableArrayList(&quot;Younger&quot;,&quot;Older&quot;);</span>
<span class="fc" id="L31">    ObservableList&lt;String&gt; p6AlgorithmChoice = FXCollections.observableArrayList(&quot;T6X1&quot;,&quot;T6X2&quot;);</span>
<span class="fc" id="L32">    ObservableList&lt;String&gt; p5AlgorithmChoice = FXCollections.observableArrayList(&quot;T5X1&quot;,&quot;T5X2&quot;);</span>
<span class="fc" id="L33">    ObservableList&lt;String&gt; p4AlgorithmChoice = FXCollections.observableArrayList(&quot;T4X1&quot;,&quot;T4X2&quot;);</span>
<span class="fc" id="L34">    ObservableList&lt;String&gt; p4TypeChoice = FXCollections.observableArrayList(&quot;Popular&quot;,&quot;Unique&quot;);</span>

    @FXML
    private Tab tabTaskZero;

    @FXML
    private TextField textfieldNameF;

    @FXML
    private TextField textfieldYear;

    @FXML
    private Button buttonRankM;

    @FXML
    private TextField textfieldNameM;

    @FXML
    private Button buttonRankF;

    @FXML
    private Button buttonTopM;

    @FXML
    private Button buttonTopF;

    @FXML
    private Button buttonSummary;

    @FXML
    private Tab tabReport1;

    @FXML
    private TextArea p1DescriputionBox;

    @FXML
    private TextField p1YearField;

    @FXML
    private TextField p1NField;

    @FXML
    private Button p1ResetButton;

    @FXML
    private Button p1SubmitButton;

    @FXML
    private Label p1YearErrorLabel;

    @FXML
    private Label p1NErrorLabel;

    @FXML
    private ToggleGroup T1;

    @FXML
    private Tab tabReport2;

    @FXML
    private ToggleGroup T11;

    @FXML
    private TextArea task2IntroBox;

    @FXML
    private TextField task2Year1TextField;

    @FXML
    private TextField task2Year2TextField;

    @FXML
    private TextField task2KTextField;

    @FXML
    private Label task2Year1ErrorLabel;

    @FXML
    private Label task2Year2ErrorLabel;

    @FXML
    private Label task2KErrorLabel;

    @FXML
    private ChoiceBox task2GenderChoiceBox;

    @FXML
    private Button task2SubmitButton;

    @FXML
    private Button task2ResetButton;

    @FXML
    private Tab tabReport3;

    @FXML
    private ToggleGroup T111;
    
    @FXML
    private TextArea task3IntroBox;

    @FXML
    private TextField task3Year1TextField;

    @FXML
    private TextField task3Year2TextField;

    @FXML
    private TextField task3NameTextField;

    @FXML
    private Label task3Year1ErrorLabel;

    @FXML
    private Label task3Year2ErrorLabel;

    @FXML
    private Label task3NameErrorLabel;

    @FXML
    private ChoiceBox task3GenderChoiceBox;

    @FXML
    private Button task3SubmitButton;

    @FXML
    private Button task3ResetButton;

    @FXML
    private Tab tabApp1;

    @FXML
    private Tab tabApp2;

    @FXML
    private TextArea task5IntroBox;

    @FXML
    private TextField task5iNameTextField;

    @FXML
    private ChoiceBox task5iGenderChoiceBox;

    @FXML
    private TextField task5iAgeTextField;

    @FXML
    private ChoiceBox task5iGenderMateChoiceBox;

    @FXML
    private ChoiceBox task5iPreferenceChoiceBox;

    @FXML
    private ChoiceBox task5AlgorithmChoiceBox;

    @FXML
    private Button task5SubmitButton;

    @FXML
    private Label task5iNameErrorLabel;

    @FXML
    private Label task5iAgeErrorLabel;

    @FXML
    private Label task5NoticeLabel;

    @FXML
    private Button task5ResetButton;

    @FXML
    private Tab tabApp3;

    @FXML
    private TextArea textAreaConsole;
    
    @FXML
    private TextField task6UserName;
    
    @FXML
    private TextField task6MateName;
    
    @FXML
    private TextField task6SelfYOB;
    
    @FXML
    private ChoiceBox task6SelfGenderBox;
    
    @FXML
    private ChoiceBox task6MateGenderBox;
    
    @FXML
    private ChoiceBox task6AgePreferenceBox;
    
    @FXML
    private ChoiceBox task6AlgorithmChoiceBox;
    
    @FXML
    private Label task6UserNameErrorLabel;

    @FXML
    private Label task6MateNameErrorLabel;
    
    @FXML
    private Label task6SelfYOBErrorLabel;
    
    @FXML
    private Button task6SubmitButton;
    
    @FXML
    private Button task6ResetButton;

    @FXML
    private TableView outputTable1;

    @FXML
    private TableView outputTable2;

    @FXML
    private BarChart&lt;String, Number&gt; outputBarChart1;

    @FXML
    private BarChart&lt;String, Number&gt; outputBarChart2;

    @FXML
    private PieChart outputPieChart1;

    @FXML
    private PieChart outputPieChart2;

    @FXML
    private LineChart&lt;Integer, Integer&gt; outputLineChart1;

    @FXML
    private LineChart&lt;Integer, Integer&gt; outputLineChart2;

    @FXML
    private Button summaryButton;

    @FXML
    private Button tableButton;

    @FXML
    private Button barButton;

    @FXML
    private Button pieButton;

    @FXML
    private Button lineButton;

    @FXML
    private AnchorPane outputPanel;

    @FXML
    private SplitPane splitWindow;

    @FXML
    private TextField p4DadName;

    @FXML
    private TextField p4MomName;

    @FXML
    private TextField p4DadYob;

    @FXML
    private TextField p4MomYob;

    @FXML
    private ChoiceBox&lt;String&gt; p4AlgoChoiceBox;

    @FXML
    private Label p4DadNameError;

    @FXML
    private Label p4MomNameError;

    @FXML
    private Label p4DadYobError;

    @FXML
    private Label p4MomYobError;

    @FXML
    private Label p4AlgoError;

    @FXML
    private Button p4SubmitButton;

    @FXML
    private Button p4ResetButton;

    @FXML
    private Label p4TypeLabel;

    @FXML
    private ChoiceBox&lt;String&gt; p4TypeChoiceBox;

    // ----------------------------- Task0 Functions ------------------------//

    /**
     * Task Zero
     * To be triggered by the &quot;Summary&quot; button on the Task Zero Tab
     */
    @FXML
    void doSummary() {
<span class="nc" id="L341">        int year = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L342">        String oReport = AnalyzeNames.getSummary(year);</span>
<span class="nc" id="L343">        textAreaConsole.setText(oReport);</span>
<span class="nc" id="L344">    }</span>


    /**
     * Task Zero
     * To be triggered by the &quot;Rank (female)&quot; button on the Task Zero Tab
     */
    @FXML
    void doRankF() {
<span class="nc" id="L353">        String oReport = &quot;&quot;;</span>
<span class="nc" id="L354">        String iNameF = textfieldNameF.getText();</span>
<span class="nc" id="L355">        int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L356">        int oRank = AnalyzeNames.getRank(iYear, iNameF, &quot;F&quot;);</span>
<span class="nc bnc" id="L357" title="All 2 branches missed.">        if (oRank == -1)</span>
<span class="nc" id="L358">            oReport = String.format(&quot;The name %s (female) has not been ranked in the year %d.\n&quot;, iNameF, iYear);</span>
        else
<span class="nc" id="L360">            oReport = String.format(&quot;Rank of %s (female) in year %d is #%d.\n&quot;, iNameF, iYear, oRank);</span>
<span class="nc" id="L361">        textAreaConsole.setText(oReport);</span>
<span class="nc" id="L362">    }</span>


    /**
     * Task Zero
     * To be triggered by the &quot;Rank (male)&quot; button on the Task Zero Tab
     */
    @FXML
    void doRankM() {
<span class="fc" id="L371">        String oReport = &quot;&quot;;</span>
<span class="fc" id="L372">        String iNameM = textfieldNameM.getText();</span>
<span class="fc" id="L373">        int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="fc" id="L374">        int oRank = AnalyzeNames.getRank(iYear, iNameM, &quot;M&quot;);</span>
<span class="pc bpc" id="L375" title="1 of 2 branches missed.">        if (oRank == -1)</span>
<span class="nc" id="L376">            oReport = String.format(&quot;The name %s (male) has not been ranked in the year %d.\n&quot;, iNameM, iYear);</span>
        else
<span class="fc" id="L378">            oReport = String.format(&quot;Rank of %s (male) in year %d is #%d.\n&quot;, iNameM, iYear, oRank);</span>
<span class="fc" id="L379">        textAreaConsole.setText(oReport);</span>
<span class="fc" id="L380">    }</span>


    /**
     * Task Zero
     * To be triggered by the &quot;Top 5 (female)&quot; button on the Task Zero Tab
     */
    @FXML
    void doTopF() {
<span class="nc" id="L389">        String oReport = &quot;&quot;;</span>
<span class="nc" id="L390">        final int topN = 5;</span>
<span class="nc" id="L391">        int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L392">        oReport = String.format(&quot;Top %d most popular names (female) in the year %d:\n&quot;, topN, iYear);</span>
<span class="nc bnc" id="L393" title="All 2 branches missed.">        for (int i = 1; i &lt;= topN; i++)</span>
<span class="nc" id="L394">            oReport += String.format(&quot;#%d: %s\n&quot;, i, AnalyzeNames.getName(iYear, i, &quot;F&quot;));</span>
<span class="nc" id="L395">        textAreaConsole.setText(oReport);</span>
<span class="nc" id="L396">    }</span>


    /**
     * Task Zero
     * To be triggered by the &quot;Top 5 (male)&quot; button on the Task Zero Tab
     */
    @FXML
    void doTopM() {
<span class="nc" id="L405">        String oReport = &quot;&quot;;</span>
<span class="nc" id="L406">        final int topN = 5;</span>
<span class="nc" id="L407">        int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L408">        oReport = String.format(&quot;Top %d most popular names (male) in the year %d:\n&quot;, topN, iYear);</span>
<span class="nc bnc" id="L409" title="All 2 branches missed.">        for (int i = 1; i &lt;= topN; i++)</span>
<span class="nc" id="L410">            oReport += String.format(&quot;#%d: %s\n&quot;, i, AnalyzeNames.getName(iYear, i, &quot;M&quot;));</span>
<span class="nc" id="L411">        textAreaConsole.setText(oReport);</span>
<span class="nc" id="L412">    }</span>



    // ----------------------------- Initialization of UI ------------------------//
    /**
     *  Initialize the content of all the ChoiceBox
     *
     */
    @FXML
    void initialize() {
        // ----------------------- General UI Initialization ------------------------//
<span class="fc" id="L424">        summaryButton.setVisible(true);</span>
<span class="fc" id="L425">        tableButton.setVisible(false);</span>
<span class="fc" id="L426">        barButton.setVisible(false);</span>
<span class="fc" id="L427">        pieButton.setVisible(false);</span>
<span class="fc" id="L428">        lineButton.setVisible(false);</span>
<span class="fc" id="L429">        selectedTask = 0;</span>
        // -------------------------- Task2 Initialization ------------------------//
<span class="fc" id="L431">        task2GenderChoiceBox.setValue(&quot;M&quot;);</span>
<span class="fc" id="L432">        task2GenderChoiceBox.setItems(genderChoice);</span>
        // -------------------------- Task3 Initialization ------------------------//
<span class="fc" id="L434">        task3GenderChoiceBox.setValue(&quot;M&quot;);</span>
<span class="fc" id="L435">        task3GenderChoiceBox.setItems(genderChoice);</span>
        // -------------------------- Task4 Initialization ------------------------//
<span class="fc" id="L437">        p4AlgoChoiceBox.setItems(p4AlgorithmChoice);</span>
<span class="fc" id="L438">        p4AlgoChoiceBox.setValue(p4AlgorithmChoice.get(0));</span>
<span class="fc" id="L439">        p4TypeChoiceBox.setItems(p4TypeChoice);</span>
<span class="fc" id="L440">        p4TypeChoiceBox.setValue(p4TypeChoice.get(0));</span>
        // -------------------------- Task5 Initialization ------------------------//
<span class="fc" id="L442">        task5iGenderChoiceBox.setValue(&quot;M&quot;);</span>
<span class="fc" id="L443">        task5iGenderChoiceBox.setItems(genderChoice);</span>
<span class="fc" id="L444">        task5iGenderMateChoiceBox.setValue(&quot;M&quot;);</span>
<span class="fc" id="L445">        task5iGenderMateChoiceBox.setItems(genderChoice);</span>
<span class="fc" id="L446">        task5iPreferenceChoiceBox.setValue(&quot;Younger&quot;);</span>
<span class="fc" id="L447">        task5iPreferenceChoiceBox.setItems(ageChoice2);</span>
<span class="fc" id="L448">        task5AlgorithmChoiceBox.setValue(&quot;T5X1&quot;);</span>
<span class="fc" id="L449">        task5AlgorithmChoiceBox.setItems(p5AlgorithmChoice);</span>
        // -------------------------- Task6 Initialization ------------------------//
<span class="fc" id="L451">        task6SelfGenderBox.setValue(&quot;M&quot;);</span>
<span class="fc" id="L452">        task6SelfGenderBox.setItems(genderChoice);</span>
<span class="fc" id="L453">        task6MateGenderBox.setValue(&quot;F&quot;);</span>
<span class="fc" id="L454">        task6MateGenderBox.setItems(genderChoice);</span>
<span class="fc" id="L455">        task6AgePreferenceBox.setValue(&quot;Younger&quot;);</span>
<span class="fc" id="L456">        task6AgePreferenceBox.setItems(ageChoice2);</span>
<span class="fc" id="L457">        task6AlgorithmChoiceBox.setValue(&quot;T6X1&quot;);</span>
<span class="fc" id="L458">        task6AlgorithmChoiceBox.setItems(p6AlgorithmChoice);</span>

<span class="fc" id="L460">    }</span>



    // ----------------------------- General Terminal UI Interface ------------------------//

    /**
     * Used to record which task is in use
     */
<span class="fc" id="L469">    int selectedTask = 0;</span>

    /**
     * Used to record which button is selected
     */
<span class="fc" id="L474">    Button selectedButton = null;</span>

    /**
     * switch between different buttons and set up UI
     * @param nowSelected the current selected button
     */
    void switchButton(Button nowSelected) {
<span class="fc bfc" id="L481" title="All 2 branches covered.">        if(selectedButton == null) selectedButton = summaryButton;</span>
<span class="pc bpc" id="L482" title="1 of 2 branches missed.">        if(nowSelected == selectedButton) return;</span>
<span class="nc" id="L483">        selectedButton.setDefaultButton(false);</span>
<span class="nc" id="L484">        VBox.setMargin(selectedButton, new Insets(0, 0, 5, 10));</span>
<span class="nc" id="L485">        nowSelected.setDefaultButton(true);</span>
<span class="nc" id="L486">        VBox.setMargin(nowSelected, new Insets(0, 0, 5, 0));</span>
<span class="nc" id="L487">        selectedButton = nowSelected;</span>
<span class="nc" id="L488">    }</span>

    /**
     * set all charts to invisible, used when switching buttons
     */
    void setAllChartsInvisible() {
<span class="fc bfc" id="L494" title="All 2 branches covered.">        for(Node node : outputPanel.getChildren()) {</span>
<span class="fc" id="L495">            node.setVisible(false);</span>
<span class="fc" id="L496">        }</span>
//        textAreaConsole.setVisible(true);
<span class="fc" id="L498">    }</span>

    /**
     * clean all the user input
     * please add your input text box here
     */
    void clearAllInputBox() {
        // task1
<span class="fc" id="L506">        p1YearField.clear();</span>
<span class="fc" id="L507">        p1YearErrorLabel.setVisible(false);</span>
<span class="fc" id="L508">        p1NField.clear();</span>
<span class="fc" id="L509">        p1NErrorLabel.setVisible(false);</span>
        // task2
<span class="fc" id="L511">        task2Year1TextField.clear();</span>
<span class="fc" id="L512">        task2Year2TextField.clear();</span>
<span class="fc" id="L513">        task2KTextField.clear();</span>
<span class="fc" id="L514">        task2Year1ErrorLabel.setVisible(false);</span>
<span class="fc" id="L515">        task2Year2ErrorLabel.setVisible(false);</span>
<span class="fc" id="L516">        task2KErrorLabel.setVisible(false);</span>
<span class="fc" id="L517">        task2GenderChoiceBox.setValue(genderChoice.get(0));</span>
        // task3
<span class="fc" id="L519">        task3Year1TextField.clear();</span>
<span class="fc" id="L520">        task3Year2TextField.clear();</span>
<span class="fc" id="L521">        task3NameTextField.clear();</span>
<span class="fc" id="L522">        task3Year1ErrorLabel.setVisible(false);</span>
<span class="fc" id="L523">        task3Year2ErrorLabel.setVisible(false);</span>
        // task4
<span class="fc" id="L525">        p4AlgoChoiceBox.setValue(p4AlgorithmChoice.get(0));</span>
<span class="fc" id="L526">        p4DadName.clear();</span>
<span class="fc" id="L527">        p4DadYob.clear();</span>
<span class="fc" id="L528">        p4MomName.clear();</span>
<span class="fc" id="L529">        p4MomYob.clear();</span>
<span class="fc" id="L530">        p4AlgoError.setVisible(false);</span>
<span class="fc" id="L531">        p4DadNameError.setVisible(false);</span>
<span class="fc" id="L532">        p4DadYobError.setVisible(false);</span>
<span class="fc" id="L533">        p4MomNameError.setVisible(false);</span>
<span class="fc" id="L534">        p4MomYobError.setVisible(false);</span>
<span class="fc" id="L535">        p4TypeChoiceBox.setVisible(false);</span>
<span class="fc" id="L536">        p4TypeLabel.setVisible(false);</span>
        // task5
<span class="fc" id="L538">        task5iNameTextField.clear();</span>
<span class="fc" id="L539">        task5iAgeTextField.clear();</span>
<span class="fc" id="L540">        task5iNameErrorLabel.setVisible(false);</span>
<span class="fc" id="L541">        task5iAgeErrorLabel.setVisible(false);</span>
<span class="fc" id="L542">        task5AlgorithmChoiceBox.setValue(p5AlgorithmChoice.get(0));</span>
<span class="fc" id="L543">        task5iPreferenceChoiceBox.setValue(ageChoice.get(0));</span>
<span class="fc" id="L544">        task5iGenderChoiceBox.setValue(genderChoice.get(0));</span>
<span class="fc" id="L545">        task5iGenderMateChoiceBox.setValue(genderChoice.get(0));</span>
        //task6
<span class="fc" id="L547">        task6UserName.clear();</span>
<span class="fc" id="L548">        task6MateName.clear();</span>
<span class="fc" id="L549">        task6SelfYOB.clear();</span>
<span class="fc" id="L550">        task6SelfGenderBox.setValue(genderChoice.get(0));</span>
<span class="fc" id="L551">        task6MateGenderBox.setValue(genderChoice.get(0));</span>
<span class="fc" id="L552">        task6AgePreferenceBox.setValue(ageChoice2.get(0));</span>
<span class="fc" id="L553">        task6AlgorithmChoiceBox.setValue(p6AlgorithmChoice.get(0));</span>
<span class="fc" id="L554">        task6UserNameErrorLabel.setVisible(false);</span>
<span class="fc" id="L555">        task6MateNameErrorLabel.setVisible(false);</span>
<span class="fc" id="L556">        task6SelfYOBErrorLabel.setVisible(false);</span>
<span class="fc" id="L557">    }</span>

    /**
     * clean the console, used when switch between tabs(tasks)
     */
    void clearAllCharts() {
<span class="fc" id="L563">        textAreaConsole.clear();</span>
<span class="fc" id="L564">        outputTable1.getColumns().clear();</span>
<span class="fc" id="L565">        outputTable2.getColumns().clear();</span>
<span class="fc" id="L566">        outputBarChart1.getData().clear();</span>
<span class="fc" id="L567">        outputBarChart2.getData().clear();</span>
<span class="fc" id="L568">        outputPieChart1.getData().clear();</span>
<span class="fc" id="L569">        outputPieChart2.getData().clear();</span>
<span class="fc" id="L570">        outputLineChart1.getData().clear();</span>
<span class="fc" id="L571">        outputLineChart2.getData().clear();</span>
<span class="fc" id="L572">        setAllChartsInvisible();</span>
<span class="fc" id="L573">        textAreaConsole.setVisible(true);</span>
<span class="fc" id="L574">        switchButton(summaryButton);</span>
<span class="fc" id="L575">    }</span>

    /**
     * clean the console without changing the current button, used for following invalid inputs
     */
    void clearAllChartsWithoutSwitching() {
<span class="fc" id="L581">        textAreaConsole.clear();</span>
<span class="fc" id="L582">        outputTable1.getColumns().clear();</span>
<span class="fc" id="L583">        outputTable2.getColumns().clear();</span>
<span class="fc" id="L584">        outputBarChart1.getData().clear();</span>
<span class="fc" id="L585">        outputBarChart2.getData().clear();</span>
<span class="fc" id="L586">        outputPieChart1.getData().clear();</span>
<span class="fc" id="L587">        outputPieChart2.getData().clear();</span>
<span class="fc" id="L588">        outputLineChart1.getData().clear();</span>
<span class="fc" id="L589">        outputLineChart2.getData().clear();</span>
<span class="fc" id="L590">    }</span>

    /**
     * when summary is clicked
     */
    @FXML
    void clickSummary() {
<span class="nc" id="L597">        switchButton(summaryButton);</span>
<span class="nc" id="L598">        setAllChartsInvisible();</span>
<span class="nc" id="L599">        textAreaConsole.setVisible(true);</span>
<span class="nc" id="L600">    }</span>

    /**
     * when table is clicked
     */
    @FXML
    void clickTable() {
<span class="nc" id="L607">        switchButton(tableButton);</span>
<span class="nc" id="L608">        setAllChartsInvisible();</span>
<span class="nc bnc" id="L609" title="All 2 branches missed.">        if(outputTable1.getColumns().size() != 0)</span>
<span class="nc bnc" id="L610" title="All 4 branches missed.">            if(selectedTask == 1 || selectedTask == 4) {</span>
<span class="nc" id="L611">                outputTable1.setVisible(true);</span>
<span class="nc" id="L612">                outputTable1.setPrefWidth(outputPanel.getWidth()/2);</span>
<span class="nc" id="L613">                outputTable2.setVisible(true);</span>
<span class="nc" id="L614">                outputTable2.setPrefWidth(outputPanel.getWidth()/2);</span>
            }
            else {
<span class="nc" id="L617">                outputTable1.setVisible(true);</span>
<span class="nc" id="L618">                outputTable1.setPrefWidth(outputPanel.getWidth());</span>
            }
<span class="nc" id="L620">    }</span>

    /**
     * when bar chart is clicked
     */
    @FXML
    void clickBar() {
<span class="nc" id="L627">        switchButton(barButton);</span>
<span class="nc" id="L628">        setAllChartsInvisible();</span>
<span class="nc bnc" id="L629" title="All 2 branches missed.">        if(outputBarChart1.getData().size() != 0)</span>
<span class="nc bnc" id="L630" title="All 4 branches missed.">            if(selectedTask == 1 || selectedTask == 4) {</span>
<span class="nc" id="L631">                outputBarChart1.setVisible(true);</span>
<span class="nc" id="L632">                outputBarChart1.setPrefWidth(outputPanel.getWidth()/2);</span>
<span class="nc" id="L633">                outputBarChart2.setVisible(true);</span>
<span class="nc" id="L634">                outputBarChart2.setPrefWidth(outputPanel.getWidth()/2);</span>
            }
            else {
<span class="nc" id="L637">                outputBarChart1.setVisible(true);</span>
<span class="nc" id="L638">                outputBarChart1.setPrefWidth(outputPanel.getWidth());</span>
            }
<span class="nc" id="L640">    }</span>

    /**
     * when pie chart is clicked
     */
    @FXML
    void clickPie() {
<span class="nc" id="L647">        switchButton(pieButton);</span>
<span class="nc" id="L648">        setAllChartsInvisible();</span>
<span class="nc bnc" id="L649" title="All 2 branches missed.">        if(outputPieChart1.getData().size() != 0)</span>
<span class="nc bnc" id="L650" title="All 4 branches missed.">            if(selectedTask == 1 || selectedTask == 4) {</span>
<span class="nc" id="L651">                outputPieChart1.setVisible(true);</span>
<span class="nc" id="L652">                outputPieChart1.setPrefWidth(outputPanel.getWidth()/2);</span>
<span class="nc" id="L653">                outputPieChart2.setVisible(true);</span>
<span class="nc" id="L654">                outputPieChart2.setPrefWidth(outputPanel.getWidth()/2);</span>
            }
            else {
<span class="nc" id="L657">                outputPieChart1.setVisible(true);</span>
<span class="nc" id="L658">                outputPieChart1.setPrefWidth(outputPanel.getWidth());</span>
            }
<span class="nc" id="L660">    }</span>

    /**
     * when line chart is clicked
     */
    @FXML
    void clickLine() {
<span class="nc" id="L667">        switchButton(lineButton);</span>
<span class="nc" id="L668">        setAllChartsInvisible();</span>
<span class="nc bnc" id="L669" title="All 2 branches missed.">        if(outputLineChart1.getData().size() != 0)</span>
<span class="nc bnc" id="L670" title="All 4 branches missed.">            if(selectedTask == 1 || selectedTask == 4) {</span>
<span class="nc" id="L671">                outputLineChart1.setVisible(true);</span>
<span class="nc" id="L672">                outputLineChart1.setPrefWidth(outputPanel.getWidth()/2);</span>
<span class="nc" id="L673">                outputLineChart2.setVisible(true);</span>
<span class="nc" id="L674">                outputLineChart2.setPrefWidth(outputPanel.getWidth()/2);</span>
            }
            else {
<span class="nc" id="L677">                outputLineChart1.setVisible(true);</span>
<span class="nc" id="L678">                outputLineChart1.setPrefWidth(outputPanel.getWidth());</span>
            }
<span class="nc" id="L680">    }</span>

    /**
     * prevent drag split panel
     */
    @FXML
    void dragSplitWindow() {
<span class="nc" id="L687">        splitWindow.setDividerPosition(0,0.135);</span>
<span class="nc" id="L688">    }</span>

    /**
     * when switch to tab0
     */
    @FXML
    void tab0Selected() {
<span class="fc bfc" id="L695" title="All 2 branches covered.">        if(textAreaConsole == null) return;</span>
<span class="fc" id="L696">        clearAllInputBox();</span>
<span class="fc" id="L697">        clearAllCharts();</span>
<span class="fc" id="L698">        summaryButton.setVisible(true);</span>
<span class="fc" id="L699">        tableButton.setVisible(false);</span>
<span class="fc" id="L700">        barButton.setVisible(false);</span>
<span class="fc" id="L701">        pieButton.setVisible(false);</span>
<span class="fc" id="L702">        lineButton.setVisible(false);</span>
<span class="fc" id="L703">        selectedTask = 0;</span>
<span class="fc" id="L704">    }</span>

    /**
     * when switch to tab1
     */
    @FXML
    void tab1Selected() {
<span class="fc" id="L711">        clearAllInputBox();</span>
<span class="fc" id="L712">        clearAllCharts();</span>
<span class="fc" id="L713">        summaryButton.setVisible(true);</span>
<span class="fc" id="L714">        tableButton.setVisible(true);</span>
<span class="fc" id="L715">        barButton.setVisible(true);</span>
<span class="fc" id="L716">        pieButton.setVisible(true);</span>
<span class="fc" id="L717">        lineButton.setVisible(false);</span>
<span class="fc" id="L718">        selectedTask = 1;</span>
<span class="fc" id="L719">    }</span>

    /**
     * when switch to tab2
     */
    @FXML
    void tab2Selected() {
<span class="fc" id="L726">        clearAllInputBox();</span>
<span class="fc" id="L727">        clearAllCharts();</span>
<span class="fc" id="L728">        summaryButton.setVisible(true);</span>
<span class="fc" id="L729">        tableButton.setVisible(true);</span>
<span class="fc" id="L730">        barButton.setVisible(true);</span>
<span class="fc" id="L731">        pieButton.setVisible(true);</span>
<span class="fc" id="L732">        lineButton.setVisible(false);</span>
<span class="fc" id="L733">        selectedTask = 2;</span>
<span class="fc" id="L734">    }</span>

    /**
     * when switch to tab3
     */
    @FXML
    void tab3Selected() {
<span class="fc" id="L741">        clearAllInputBox();</span>
<span class="fc" id="L742">        clearAllCharts();</span>
<span class="fc" id="L743">        summaryButton.setVisible(true);</span>
<span class="fc" id="L744">        tableButton.setVisible(true);</span>
<span class="fc" id="L745">        barButton.setVisible(true);</span>
<span class="fc" id="L746">        lineButton.setVisible(true);</span>
<span class="fc" id="L747">        selectedTask = 3;</span>
<span class="fc" id="L748">    }</span>

    /**
     * when switch to tab4
     */
    @FXML
    void tab4Selected() {
<span class="fc" id="L755">        clearAllCharts();</span>
<span class="fc" id="L756">        summaryButton.setVisible(true);</span>
<span class="fc" id="L757">        tableButton.setVisible(true);</span>
<span class="fc" id="L758">        barButton.setVisible(true);</span>
<span class="fc" id="L759">        pieButton.setVisible(true);</span>
<span class="fc" id="L760">        lineButton.setVisible(false);</span>
<span class="fc" id="L761">        selectedTask = 4;</span>
<span class="fc" id="L762">    }</span>

    /**
     * when switch to tab5
     */
    @FXML
    void tab5Selected() {
<span class="fc" id="L769">        clearAllInputBox();</span>
<span class="fc" id="L770">        clearAllCharts();</span>
<span class="fc" id="L771">        summaryButton.setVisible(true);</span>
<span class="fc" id="L772">        tableButton.setVisible(true);</span>
<span class="fc" id="L773">        barButton.setVisible(true);</span>
<span class="fc" id="L774">        pieButton.setVisible(false);</span>
<span class="fc" id="L775">        lineButton.setVisible(true);</span>
<span class="fc" id="L776">        selectedTask = 5;</span>
<span class="fc" id="L777">    }</span>

    /**
     * when switch to tab6
     */
    @FXML
    void tab6Selected() {
<span class="fc" id="L784">        clearAllInputBox();</span>
<span class="fc" id="L785">        clearAllCharts();</span>
<span class="fc" id="L786">        summaryButton.setVisible(true);</span>
<span class="fc" id="L787">        tableButton.setVisible(false);</span>
<span class="fc" id="L788">        barButton.setVisible(false);</span>
<span class="fc" id="L789">        lineButton.setVisible(false);</span>
<span class="fc" id="L790">        selectedTask = 6;</span>
<span class="fc" id="L791">    }</span>

    // ----------------------------- Task1 Function ------------------------//

    /**
     * record if there's any error in user's input
     */
<span class="fc" id="L798">    boolean hasErrorTask1 = false;</span>

    /**
     * check year input
     */
    @FXML
    void doP1YearCheck() {
<span class="fc" id="L805">        String yearFieldText = p1YearField.getText();</span>
<span class="fc" id="L806">        boolean hasError = false;</span>
<span class="pc bpc" id="L807" title="1 of 2 branches missed.">        if (yearFieldText.isBlank()) {</span>
<span class="nc" id="L808">            p1YearErrorLabel.setText(&quot;Please Enter a Year Number&quot;);</span>
<span class="nc" id="L809">            hasError = true;</span>
        }
<span class="pc bpc" id="L811" title="3 of 6 branches missed.">        else if (!StringUtils.isNumeric(yearFieldText) || Integer.parseInt(yearFieldText) &gt; 2019 || Integer.parseInt(yearFieldText) &lt; 1880) {</span>
<span class="nc" id="L812">            p1YearErrorLabel.setText(&quot;Please Enter a Number Between 1880 and 2019&quot;);</span>
<span class="nc" id="L813">            hasError = true;</span>
        }
<span class="fc" id="L815">        p1YearErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L816">        hasErrorTask1 = hasError;</span>
<span class="fc" id="L817">    }</span>

    /**
     * check n input
     */
    @FXML
    void doP1NCheck() {
<span class="fc" id="L824">        String nFieldText = p1NField.getText();</span>
<span class="fc" id="L825">        boolean hasError = false;</span>
<span class="pc bpc" id="L826" title="1 of 2 branches missed.">        if (nFieldText.isBlank()) {</span>
<span class="nc" id="L827">            p1NErrorLabel.setText(&quot;Please Enter an N number&quot;);</span>
<span class="nc" id="L828">            hasError = true;</span>
        }
<span class="pc bpc" id="L830" title="3 of 6 branches missed.">        else if (!StringUtils.isNumeric(nFieldText) || Integer.parseInt(nFieldText) &gt; 10 || Integer.parseInt(nFieldText) &lt; 1) {</span>
<span class="nc" id="L831">            p1NErrorLabel.setText(&quot;Please Enter a Number Between 1 and 10&quot;);</span>
<span class="nc" id="L832">            hasError = true;</span>
        }
<span class="fc" id="L834">        p1NErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L835">        hasErrorTask1 = hasError;</span>
<span class="fc" id="L836">    }</span>

    /**
     * when click the submit button, check data and output result
     */
    @FXML
    void doP1Submit() {
<span class="fc" id="L843">        doP1YearCheck();</span>
<span class="fc" id="L844">        doP1NCheck();</span>
<span class="pc bpc" id="L845" title="1 of 2 branches missed.">        if(hasErrorTask1) return;</span>

<span class="fc" id="L847">        clearAllCharts();</span>
<span class="fc" id="L848">        String yearFieldText = p1YearField.getText();</span>
<span class="fc" id="L849">        String nFieldText = p1NField.getText();</span>

<span class="fc" id="L851">        MostPopularNames task1 = new MostPopularNames();</span>
<span class="pc bpc" id="L852" title="1 of 2 branches missed.">        if(!task1.setData(Integer.parseInt(yearFieldText), Integer.parseInt(nFieldText)))</span>
<span class="nc" id="L853">            return;</span>

<span class="fc" id="L855">        textAreaConsole.setText(task1.getSummary());</span>
<span class="fc" id="L856">        ChartSetter.TableSetter(outputTable1, 3, new String[]{&quot;Boy Name&quot;, &quot;Occurrences&quot;, &quot;Percentage&quot;}, task1.getMapList(0));</span>
<span class="fc" id="L857">        ChartSetter.TableSetter(outputTable2, 3, new String[]{&quot;Girl Name&quot;, &quot;Occurrences&quot;, &quot;Percentage&quot;}, task1.getMapList(1));</span>
<span class="fc" id="L858">        ChartSetter.BarChartSetter(outputBarChart1, &quot;Male&quot;, &quot;Name&quot;, &quot;Occurrence&quot;, &quot;number of babies&quot;, task1.getMaleList());</span>
<span class="fc" id="L859">        ChartSetter.BarChartSetter(outputBarChart2, &quot;Female&quot;, &quot;Name&quot;, &quot;Occurrence&quot;, &quot;number of babies&quot;, task1.getFemaleList());</span>
<span class="fc" id="L860">        ChartSetter.PieChartSetter(outputPieChart1, &quot;Male&quot;, task1.getMaleList());</span>
<span class="fc" id="L861">        ChartSetter.PieChartSetter(outputPieChart2, &quot;Female&quot;, task1.getFemaleList());</span>
        // TODO
<span class="fc" id="L863">    }</span>

    /**
     * when click reset button, clear input box and output console
     */
    @FXML
    void doP1Reset() {
<span class="nc" id="L870">        p1YearField.clear();</span>
<span class="nc" id="L871">        p1NField.clear();</span>
<span class="nc" id="L872">        p1YearErrorLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L873">        p1YearErrorLabel.setVisible(false);</span>
<span class="nc" id="L874">        p1NErrorLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L875">        p1NErrorLabel.setVisible(false);</span>
<span class="nc" id="L876">        clearAllCharts();</span>
<span class="nc" id="L877">    }</span>

    // ----------------------------- Task2 Function ------------------------//

    /**
     * record if there's any error in user's input
     */
<span class="fc" id="L884">    boolean hasErrorTask2 = false;</span>


    /**
     * check year1 input
     */
    @FXML
    void doTask2Year1Check() {
<span class="fc" id="L892">        String year1Text = task2Year1TextField.getText();</span>
<span class="fc" id="L893">        boolean hasError = false;</span>
<span class="pc bpc" id="L894" title="2 of 4 branches missed.">        if (year1Text.isBlank() || !StringUtils.isNumeric(year1Text)) {</span>
<span class="nc" id="L895">            task2Year1ErrorLabel.setText(&quot;Please Enter a Year Number&quot;);</span>
<span class="nc" id="L896">            hasError = true;</span>
        }
<span class="pc bpc" id="L898" title="2 of 4 branches missed.">        else if (Integer.parseInt(year1Text) &gt; 2019 || Integer.parseInt(year1Text) &lt; 1880) {</span>
<span class="nc" id="L899">            task2Year1ErrorLabel.setText(&quot;Please Enter a Number Between 1880 and 2019&quot;);</span>
<span class="nc" id="L900">            hasError = true;</span>
        }
<span class="fc" id="L902">        task2Year1ErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L903">        hasErrorTask2 = hasError;</span>
<span class="fc" id="L904">    }</span>

    /**
     * check year2 input
     */
    @FXML
    void doTask2Year2Check() {
<span class="fc" id="L911">        String year2Text = task2Year2TextField.getText();</span>
<span class="fc" id="L912">        boolean hasError = false;</span>
<span class="pc bpc" id="L913" title="2 of 4 branches missed.">        if (year2Text.isBlank() || !StringUtils.isNumeric(year2Text) ) {</span>
<span class="nc" id="L914">            task2Year2ErrorLabel.setText(&quot;Please Enter a Year Number&quot;);</span>
<span class="nc" id="L915">            hasError = true;</span>
        }
<span class="pc bpc" id="L917" title="2 of 4 branches missed.">        else if (Integer.parseInt(year2Text) &gt; 2019 || Integer.parseInt(year2Text) &lt; 1880) {</span>
<span class="nc" id="L918">            task2Year2ErrorLabel.setText(&quot;Please Enter a Number Between 1880 and 2019&quot;);</span>
<span class="nc" id="L919">            hasError = true;</span>
        }
<span class="fc" id="L921">        task2Year2ErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L922">        hasErrorTask2 = hasError;</span>
<span class="fc" id="L923">    }</span>

    /**
     * check whether year1 &lt;= year2
     */
    @FXML
    void doTask2YearRelationCheck() {
<span class="fc" id="L930">        String year1Text = task2Year1TextField.getText();</span>
<span class="fc" id="L931">        String year2Text = task2Year2TextField.getText();</span>
<span class="fc" id="L932">        int year1 = Integer.parseInt(year1Text);</span>
<span class="fc" id="L933">        int year2 = Integer.parseInt(year2Text);</span>
<span class="fc" id="L934">        boolean hasError = false;</span>
<span class="pc bpc" id="L935" title="1 of 2 branches missed.">        if (year1 &gt; year2) {</span>
<span class="nc" id="L936">            task2Year2ErrorLabel.setText(&quot;Year2 should be larger than or equal to Year1&quot;);</span>
<span class="nc" id="L937">            hasError = true;</span>
        }
<span class="fc" id="L939">        task2Year2ErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L940">        hasErrorTask2 = hasError;</span>
<span class="fc" id="L941">    }</span>

    /**
     * check k input
     */
    @FXML
    void doTask2KCheck() {
<span class="fc" id="L948">        String kText = task2KTextField.getText();</span>
<span class="fc" id="L949">        boolean hasError = false;</span>
<span class="pc bpc" id="L950" title="2 of 4 branches missed.">        if (kText.isBlank() || !StringUtils.isNumeric(kText) ) {</span>
<span class="nc" id="L951">            task2KErrorLabel.setText(&quot;Please Enter an k number&quot;);</span>
<span class="nc" id="L952">            hasError = true;</span>
        }
<span class="pc bpc" id="L954" title="1 of 2 branches missed.">        else if (Integer.parseInt(kText) &lt; 1) {</span>
<span class="nc" id="L955">            task2KErrorLabel.setText(&quot;Please Enter a Positive Integer&quot;);</span>
<span class="nc" id="L956">            hasError = true;</span>
        }

<span class="fc" id="L959">        task2KErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L960">        hasErrorTask2 = hasError;</span>
<span class="fc" id="L961">    }</span>

    /**
     *  Task Two
     *  To be triggered by the &quot;Submit&quot; button on the Task #2 Tab
     *
     */
    @FXML
    void task2SubmitData(ActionEvent event) {
<span class="pc bpc" id="L970" title="1 of 2 branches missed.">        doTask2Year1Check();if(hasErrorTask2) return;</span>
<span class="pc bpc" id="L971" title="1 of 2 branches missed.">        doTask2Year2Check();if(hasErrorTask2) return;</span>
<span class="pc bpc" id="L972" title="1 of 2 branches missed.">        doTask2KCheck();if(hasErrorTask2) return;</span>
<span class="pc bpc" id="L973" title="1 of 2 branches missed.">        doTask2YearRelationCheck();if(hasErrorTask2) return;</span>

<span class="fc" id="L975">        clearAllChartsWithoutSwitching();</span>

<span class="fc" id="L977">        int year1 = Integer.parseInt(task2Year1TextField.getText());</span>
<span class="fc" id="L978">        int year2 = Integer.parseInt(task2Year2TextField.getText());</span>
<span class="fc" id="L979">        int k = Integer.parseInt(task2KTextField.getText());</span>
<span class="fc" id="L980">        String gender = task2GenderChoiceBox.getValue().toString();</span>

<span class="fc" id="L982">        List&lt;String&gt; testX = new ArrayList&lt;&gt;(Arrays.asList(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;));</span>
<span class="fc" id="L983">        List&lt;Number&gt; testY = new ArrayList&lt;&gt;(Arrays.asList(1,1,4,5,1,4));</span>

<span class="fc" id="L985">        KthPopularName task2 = new KthPopularName();</span>
<span class="fc" id="L986">        int validCheck = task2.setData(year1, year2, k, gender);</span>
<span class="pc bpc" id="L987" title="1 of 2 branches missed.">        if(validCheck == 0)</span>
<span class="nc" id="L988">            return;</span>
<span class="pc bpc" id="L989" title="1 of 2 branches missed.">        if(validCheck == 1){</span>
<span class="nc" id="L990">            clearAllCharts();</span>
<span class="nc" id="L991">            String errorReport = &quot;&quot;;</span>
<span class="nc" id="L992">            errorReport += String.format(&quot;\n*Error: Not all %d-th most popular names exist in the period from %d to %d, please try again with a smaller k value :)&quot;, k, year1, year2);</span>
<span class="nc" id="L993">            textAreaConsole.setText(errorReport);</span>
<span class="nc" id="L994">            return;</span>
        }

<span class="fc" id="L997">        String barTitle = &quot;&quot;;</span>
<span class="pc bpc" id="L998" title="1 of 2 branches missed.">        barTitle += String.format(&quot;%d-th popular %s names over the period from %d to %d\n&quot;, k, (gender.equals(&quot;M&quot;)?&quot;Male&quot;:&quot;Female&quot;), year1, year2);</span>
<span class="fc" id="L999">        String[] columnTitle = {&quot;Name&quot;,&quot;Frequency&quot;,&quot;Occurrences&quot;,&quot;Percentage&quot;};</span>

<span class="fc" id="L1001">        textAreaConsole.setText(task2.getSummary());</span>
<span class="fc" id="L1002">        ChartSetter.BarChartSetter(outputBarChart1, barTitle, &quot;Name&quot;, &quot;Occurrence&quot;, &quot;number of babies&quot;, task2.getModifiedList() );</span>
<span class="fc" id="L1003">        ChartSetter.PieChartSetter(outputPieChart1, barTitle, task2.getModifiedList() );</span>
<span class="fc" id="L1004">        ChartSetter.TableSetter(outputTable1, 4, columnTitle, task2.getMapList());</span>

<span class="fc" id="L1006">    }</span>

    /**
     * when click reset button, clear input box and output console
     */
    @FXML
    void task2Reset() {
<span class="nc" id="L1013">        task2Year1TextField.clear();</span>
<span class="nc" id="L1014">        task2Year2TextField.clear();</span>
<span class="nc" id="L1015">        task2KTextField.clear();</span>
<span class="nc" id="L1016">        task2Year1ErrorLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L1017">        task2Year1ErrorLabel.setVisible(false);</span>
<span class="nc" id="L1018">        task2Year2ErrorLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L1019">        task2Year2ErrorLabel.setVisible(false);</span>
<span class="nc" id="L1020">        task2KErrorLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L1021">        task2KErrorLabel.setVisible(false);</span>
<span class="nc" id="L1022">        clearAllCharts();</span>
<span class="nc" id="L1023">    }</span>

    // ----------------------------- Task3 Function ------------------------//
    /**
     * record if there's any error in user's input
     */
<span class="fc" id="L1029">    boolean hasErrorTask3 = false;</span>

    /**
     * check year1 input
     */
    @FXML
    void doTask3Year1Check() {
<span class="fc" id="L1036">        String year1Text = task3Year1TextField.getText();</span>
<span class="fc" id="L1037">        boolean hasError = false;</span>
<span class="pc bpc" id="L1038" title="2 of 4 branches missed.">        if (year1Text.isBlank() || !StringUtils.isNumeric(year1Text)) {</span>
<span class="nc" id="L1039">            task3Year1ErrorLabel.setText(&quot;Please Enter a Year Number&quot;);</span>
<span class="nc" id="L1040">            hasError = true;</span>
        }
<span class="pc bpc" id="L1042" title="2 of 4 branches missed.">        else if (Integer.parseInt(year1Text) &gt; 2019 || Integer.parseInt(year1Text) &lt; 1880) {</span>
<span class="nc" id="L1043">            task3Year1ErrorLabel.setText(&quot;Please Enter a Number Between 1880 and 2019&quot;);</span>
<span class="nc" id="L1044">            hasError = true;</span>
        }
<span class="fc" id="L1046">        task3Year1ErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L1047">        hasErrorTask3 = hasError;</span>
<span class="fc" id="L1048">    }</span>

    /**
     * check year2 input
     */
    @FXML
    void doTask3Year2Check() {
<span class="fc" id="L1055">        String year2Text = task3Year2TextField.getText();</span>
<span class="fc" id="L1056">        boolean hasError = false;</span>
<span class="pc bpc" id="L1057" title="2 of 4 branches missed.">        if (year2Text.isBlank() || !StringUtils.isNumeric(year2Text) ) {</span>
<span class="nc" id="L1058">            task3Year2ErrorLabel.setText(&quot;Please Enter a Year Number&quot;);</span>
<span class="nc" id="L1059">            hasError = true;</span>
        }
<span class="pc bpc" id="L1061" title="2 of 4 branches missed.">        else if (Integer.parseInt(year2Text) &gt; 2019 || Integer.parseInt(year2Text) &lt; 1880) {</span>
<span class="nc" id="L1062">            task3Year2ErrorLabel.setText(&quot;Please Enter a Number Between 1880 and 2019&quot;);</span>
<span class="nc" id="L1063">            hasError = true;</span>
        }
<span class="fc" id="L1065">        task3Year2ErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L1066">        hasErrorTask3 = hasError;</span>
<span class="fc" id="L1067">    }</span>

    /**
     * check whether year1 &lt;= year2
     */
    @FXML
    void doTask3YearRelationCheck() {
<span class="fc" id="L1074">        String year1Text = task3Year1TextField.getText();</span>
<span class="fc" id="L1075">        String year2Text = task3Year2TextField.getText();</span>
<span class="fc" id="L1076">        int year1 = Integer.parseInt(year1Text);</span>
<span class="fc" id="L1077">        int year2 = Integer.parseInt(year2Text);</span>
<span class="fc" id="L1078">        boolean hasError = false;</span>
<span class="pc bpc" id="L1079" title="1 of 2 branches missed.">        if (year1 &gt; year2) {</span>
<span class="nc" id="L1080">            task3Year2ErrorLabel.setText(&quot;Year2 should be larger than or equal to Year1&quot;);</span>
<span class="nc" id="L1081">            hasError = true;</span>
        }
<span class="fc" id="L1083">        task3Year2ErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L1084">        hasErrorTask3 = hasError;</span>
<span class="fc" id="L1085">    }</span>
    
    /**
     * check the name input
     */
    @FXML
    void task3NameCheck() {
<span class="fc" id="L1092">        String name = task3NameTextField.getText();</span>
<span class="fc" id="L1093">        boolean hasError = false;</span>
<span class="pc bpc" id="L1094" title="2 of 4 branches missed.">        if (name.isBlank() || StringUtils.isNumeric(name)) {</span>
<span class="nc" id="L1095">            task3NameErrorLabel.setText(&quot;Please Enter a Name&quot;);</span>
<span class="nc" id="L1096">            hasError = true;</span>
        }
<span class="fc" id="L1098">        task3NameErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L1099">        hasErrorTask3 = hasError;</span>
<span class="fc" id="L1100">    }</span>

    /**
     *  Task Three
     *  To be triggered by the &quot;Submit&quot; button on the Task #2 Tab
     *
     */       
    @FXML
    void task3SubmitData() {
<span class="fc" id="L1109">        String report = &quot;&quot;;</span>
    	
<span class="fc" id="L1111">    	doTask3Year1Check();</span>
<span class="fc" id="L1112">        doTask3Year2Check();</span>
<span class="fc" id="L1113">        task3NameCheck();</span>
<span class="pc bpc" id="L1114" title="1 of 2 branches missed.">        if(hasErrorTask3) return;</span>

<span class="fc" id="L1116">        doTask3YearRelationCheck();</span>
<span class="pc bpc" id="L1117" title="1 of 2 branches missed.">        if(hasErrorTask3) return;</span>
        
<span class="fc" id="L1119">    	int year1 = Integer.parseInt(task3Year1TextField.getText());</span>
<span class="fc" id="L1120">    	int year2 = Integer.parseInt(task3Year2TextField.getText());</span>
<span class="fc" id="L1121">    	String name = task3NameTextField.getText();</span>
<span class="fc" id="L1122">    	String gender = (String) task3GenderChoiceBox.getValue();</span>
    	
<span class="fc" id="L1124">    	PopularityOfNames task3 = new PopularityOfNames();</span>
<span class="fc" id="L1125">    	task3.setData(year1, year2, name, gender);</span>
<span class="fc" id="L1126">    	task3.findMaxYear();</span>
<span class="fc" id="L1127">    	int maxYear = task3.getYear();</span>
<span class="fc" id="L1128">    	int maxRank = task3.getRank();</span>
<span class="fc" id="L1129">    	int occurrences = task3.getOccurrence();</span>
<span class="fc" id="L1130">    	String percentage = task3.getPercentage();</span>
<span class="fc" id="L1131">    	String[] columnTitle = {&quot;Year&quot;,&quot;Rank&quot;,&quot;Occurrences&quot;,&quot;Percentage&quot;};</span>
    	
<span class="fc" id="L1133">    	report += String.format(&quot;The year when the name %s was most popular is %d at rank %d.\n&quot;</span>
				+ &quot;In that year, the number of occurrences is %d,\n&quot;
				+ &quot;which represents %s of total %s births in %d.&quot;,
<span class="fc" id="L1136">				name, maxYear, maxRank, occurrences, percentage, </span>
<span class="pc bpc" id="L1137" title="1 of 2 branches missed.">				gender.equals(&quot;M&quot;)?&quot;male&quot;:&quot;female&quot;, maxYear);</span>
    	
<span class="fc" id="L1139">    	textAreaConsole.setText(report);</span>
<span class="fc" id="L1140">    	ChartSetter.BarChartSetter2(outputBarChart1, &quot;Popularity of name&quot;, &quot;Year&quot;, &quot;Occurrence&quot;, &quot;number of babies&quot;, task3.getList());</span>
<span class="fc" id="L1141">    	ChartSetter.LineChartSetter(outputLineChart1,&quot;Popularity of name&quot;, &quot;Year&quot;, &quot;Occurrence&quot;, &quot;number of babies&quot;, task3.getList());</span>
<span class="fc" id="L1142">    	ChartSetter.TableSetter(outputTable1, 4, columnTitle, task3.getMapList());</span>
<span class="fc" id="L1143">    }</span>
    
    /**
     * when click reset button, clear input box and output console
     */
    @FXML
    void task3Reset() {
<span class="nc" id="L1150">        task3Year1TextField.clear();</span>
<span class="nc" id="L1151">        task3Year2TextField.clear();</span>
<span class="nc" id="L1152">        task3NameTextField.clear();</span>
<span class="nc" id="L1153">        task3Year1ErrorLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L1154">        task3Year1ErrorLabel.setVisible(false);</span>
<span class="nc" id="L1155">        task3Year2ErrorLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L1156">        task3Year2ErrorLabel.setVisible(false);</span>
<span class="nc" id="L1157">        task3NameErrorLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L1158">        task3NameErrorLabel.setVisible(false);</span>
<span class="nc" id="L1159">        clearAllCharts();</span>
<span class="nc" id="L1160">    }</span>

    // ----------------------------- Task4 Function ------------------------//
    /**
     * indicates whether there's any mistake in the user input
     */
<span class="fc" id="L1166">    boolean hasErrorTask4 = false;</span>

    /**
     * check the dad name input
     */
    @FXML
    void p4DadNameCheck() {
<span class="fc" id="L1173">        String name = p4DadName.getText();</span>
<span class="fc" id="L1174">        boolean hasError = false;</span>
<span class="pc bpc" id="L1175" title="2 of 4 branches missed.">        if (name.isBlank() || StringUtils.isNumeric(name)) {</span>
<span class="nc" id="L1176">            p4DadNameError.setText(&quot;Please Enter a Name&quot;);</span>
<span class="nc" id="L1177">            hasError = true;</span>
        }
<span class="fc" id="L1179">        p4DadNameError.setVisible(hasError);</span>
<span class="fc" id="L1180">        hasErrorTask4 = hasError;</span>
<span class="fc" id="L1181">    }</span>

    /**
     * check the dad YOB input
     */
    @FXML
    void p4DadYobCheck() {
<span class="fc" id="L1188">        String year = p4DadYob.getText();</span>
<span class="fc" id="L1189">        boolean hasError = false;</span>
<span class="pc bpc" id="L1190" title="1 of 2 branches missed.">        if (year.isBlank()) {</span>
<span class="nc" id="L1191">            p4DadYobError.setText(&quot;Please Enter a Year Number&quot;);</span>
<span class="nc" id="L1192">            hasError = true;</span>
        }
<span class="pc bpc" id="L1194" title="3 of 6 branches missed.">        else if (!StringUtils.isNumeric(year) || Integer.parseInt(year) &gt; 2019 || Integer.parseInt(year) &lt; 1880) {</span>
<span class="nc" id="L1195">            p4DadYobError.setText(&quot;Please Enter a Number Between 1880 and 2019&quot;);</span>
<span class="nc" id="L1196">            hasError = true;</span>
        }
<span class="fc" id="L1198">        p4DadYobError.setVisible(hasError);</span>
<span class="fc" id="L1199">        hasErrorTask4 = hasError;</span>
<span class="fc" id="L1200">    }</span>

    /**
     * check the mom name input
     */
    @FXML
    void p4MomNameCheck() {
<span class="fc" id="L1207">        String name = p4MomName.getText();</span>
<span class="fc" id="L1208">        boolean hasError = false;</span>
<span class="pc bpc" id="L1209" title="2 of 4 branches missed.">        if (name.isBlank() || StringUtils.isNumeric(name)) {</span>
<span class="nc" id="L1210">            p4MomNameError.setText(&quot;Please Enter a Name&quot;);</span>
<span class="nc" id="L1211">            hasError = true;</span>
        }
<span class="fc" id="L1213">        p4MomNameError.setVisible(hasError);</span>
<span class="fc" id="L1214">        hasErrorTask4 = hasError;</span>
<span class="fc" id="L1215">    }</span>

    /**
     * check the mom YOB input
     */
    @FXML
    void p4MomYobCheck() {
<span class="fc" id="L1222">        String year = p4MomYob.getText();</span>
<span class="fc" id="L1223">        boolean hasError = false;</span>
<span class="pc bpc" id="L1224" title="1 of 2 branches missed.">        if (year.isBlank()) {</span>
<span class="nc" id="L1225">            p4MomYobError.setText(&quot;Please Enter a Year Number&quot;);</span>
<span class="nc" id="L1226">            hasError = true;</span>
        }
<span class="pc bpc" id="L1228" title="3 of 6 branches missed.">        else if (!StringUtils.isNumeric(year) || Integer.parseInt(year) &gt; 2019 || Integer.parseInt(year) &lt; 1880) {</span>
<span class="nc" id="L1229">            p4MomYobError.setText(&quot;Please Enter a Number Between 1880 and 2019&quot;);</span>
<span class="nc" id="L1230">            hasError = true;</span>
        }
<span class="fc" id="L1232">        p4MomYobError.setVisible(hasError);</span>
<span class="fc" id="L1233">        hasErrorTask4 = hasError;</span>
<span class="fc" id="L1234">    }</span>

    /**
     * display additional information is second algorithm is selected
     */
    @FXML
    void p4AlgoCheck() {
<span class="fc" id="L1241">        String algo = p4AlgoChoiceBox.getValue().toString();</span>
//        boolean hasError = false;
//        if ( !( algo.equals(p4AlgorithmChoice.get(0)) || algo.equals(p4AlgorithmChoice.get(1)) ) ) {
//            p4AlgoError.setText(&quot;Please Select an algorithm&quot;);
//            hasError = true;
//        }
//        p4AlgoError.setVisible(hasError);
//        hasErrorTask4 = hasError;
<span class="fc" id="L1249">        p4TypeChoiceBox.setVisible(algo.equals(p4AlgorithmChoice.get(1)));</span>
<span class="fc" id="L1250">        p4TypeLabel.setVisible(algo.equals(p4AlgorithmChoice.get(1)));</span>
<span class="fc" id="L1251">    }</span>

    /**
     * when click the submit button, check data and output result
     */
    @FXML
    void doP4Submit() {
<span class="fc" id="L1258">        p4AlgoCheck();</span>
<span class="fc" id="L1259">        p4DadNameCheck();</span>
<span class="fc" id="L1260">        p4DadYobCheck();</span>
<span class="fc" id="L1261">        p4MomNameCheck();</span>
<span class="fc" id="L1262">        p4MomYobCheck();</span>
<span class="pc bpc" id="L1263" title="1 of 2 branches missed.">        if(hasErrorTask4) return;</span>

<span class="fc" id="L1265">        clearAllCharts();</span>
<span class="fc" id="L1266">        String dadName = p4DadName.getText();</span>
<span class="fc" id="L1267">        String momName = p4MomName.getText();</span>
<span class="fc" id="L1268">        int dadYob = Integer.parseInt(p4DadYob.getText());</span>
<span class="fc" id="L1269">        int momYob = Integer.parseInt(p4MomYob.getText());</span>
<span class="fc" id="L1270">        boolean isAlgo1 = p4AlgoChoiceBox.getValue().equals(p4AlgorithmChoice.get(0));</span>
<span class="fc bfc" id="L1271" title="All 4 branches covered.">        int type = isAlgo1 ? 0 : p4TypeChoiceBox.getValue().equals(p4TypeChoice.get(0)) ? 1 : 2;</span>

<span class="fc" id="L1273">        RecommendationOnNames task4 = new RecommendationOnNames();</span>
<span class="fc" id="L1274">        task4.setData(dadName, momName, dadYob, momYob, isAlgo1, type);</span>

<span class="fc bfc" id="L1276" title="All 2 branches covered.">        if (isAlgo1) {</span>
<span class="fc" id="L1277">            textAreaConsole.setText(task4.getSummaryAlgo1());</span>
        }
        else {
<span class="fc" id="L1280">            textAreaConsole.setText(task4.getSummaryAlgo2());</span>
        }
<span class="fc" id="L1282">        ChartSetter.BarChartSetter(outputBarChart1, &quot;Boy's names&quot;, &quot;Name&quot;, &quot;Occurrence&quot;, String.valueOf(dadYob), task4.getBoyRecommendList());</span>
<span class="fc" id="L1283">        ChartSetter.BarChartSetter(outputBarChart2, &quot;Girl's names&quot;, &quot;Name&quot;, &quot;Occurrence&quot;, String.valueOf(momYob), task4.getGirlRecommendList());</span>
<span class="fc" id="L1284">        ChartSetter.TableSetter(outputTable1, 3, new String[]{&quot;Boy Name&quot;, &quot;Occurrences&quot;, &quot;Percentage&quot;}, task4.getMapList(0));</span>
<span class="fc" id="L1285">        ChartSetter.TableSetter(outputTable2, 3, new String[]{&quot;Girl Name&quot;, &quot;Occurrences&quot;, &quot;Percentage&quot;}, task4.getMapList(1));</span>
<span class="fc" id="L1286">        ChartSetter.PieChartSetter(outputPieChart1, &quot;Boy's names&quot;, task4.getBoyRecommendList());</span>
<span class="fc" id="L1287">        ChartSetter.PieChartSetter(outputPieChart2, &quot;Girl's names&quot;, task4.getGirlRecommendList());</span>
<span class="fc" id="L1288">    }</span>

    /**
     * when click reset button, clear input box and output console
     */
    @FXML
    void doP4Reset() {
<span class="nc" id="L1295">        p4AlgoChoiceBox.setValue(p4AlgorithmChoice.get(0));</span>
<span class="nc" id="L1296">        p4DadName.clear();</span>
<span class="nc" id="L1297">        p4DadYob.clear();</span>
<span class="nc" id="L1298">        p4MomName.clear();</span>
<span class="nc" id="L1299">        p4MomYob.clear();</span>
<span class="nc" id="L1300">        p4AlgoError.setVisible(false);</span>
<span class="nc" id="L1301">        p4DadNameError.setVisible(false);</span>
<span class="nc" id="L1302">        p4DadYobError.setVisible(false);</span>
<span class="nc" id="L1303">        p4MomNameError.setVisible(false);</span>
<span class="nc" id="L1304">        p4MomYobError.setVisible(false);</span>
<span class="nc" id="L1305">        p4TypeChoiceBox.setVisible(false);</span>
<span class="nc" id="L1306">        p4TypeLabel.setVisible(false);</span>

<span class="nc" id="L1308">        clearAllCharts();</span>
<span class="nc" id="L1309">    }</span>

    // ----------------------------- Task5 Function ------------------------//

    /**
     * record if there's any error in user's input
     */
<span class="fc" id="L1316">    boolean hasErrorTask5 = false;</span>


    /**
     * check iName input
     */
    @FXML
    void doTask5iNameCheck() {
<span class="fc" id="L1324">        String iName = task5iNameTextField.getText();</span>
<span class="fc" id="L1325">        boolean hasError = false;</span>
<span class="pc bpc" id="L1326" title="1 of 2 branches missed.">        if ( iName.isBlank() ) {</span>
<span class="nc" id="L1327">            task5iNameErrorLabel.setText(&quot;Please Enter a Name&quot;);</span>
<span class="nc" id="L1328">            hasError = true;</span>
        }
<span class="fc" id="L1330">        task5iNameErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L1331">        hasErrorTask5 = hasError;</span>
<span class="fc" id="L1332">    }</span>

    /**
     * check iYOB input
     */
    @FXML
    void doTask5iYOBCheck() {
<span class="fc" id="L1339">        String iYOBText = task5iAgeTextField.getText();</span>
<span class="fc" id="L1340">        boolean hasError = false;</span>
<span class="pc bpc" id="L1341" title="2 of 4 branches missed.">        if ( iYOBText.isBlank() || !StringUtils.isNumeric(iYOBText) ) {</span>
<span class="nc" id="L1342">            task5iAgeErrorLabel.setText(&quot;Please Enter an age number&quot;);</span>
<span class="nc" id="L1343">            hasError = true;</span>
        }
<span class="pc bpc" id="L1345" title="2 of 4 branches missed.">        else if ( Integer.parseInt(iYOBText) &lt; 1880 || Integer.parseInt(iYOBText) &gt; 2019){</span>
<span class="nc" id="L1346">            task5iAgeErrorLabel.setText(&quot;Please Enter a Number Between 1880 and 2019&quot;);</span>
<span class="nc" id="L1347">            hasError = true;</span>
        }
<span class="fc" id="L1349">        task5iAgeErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L1350">        hasErrorTask5 = hasError;</span>
<span class="fc" id="L1351">    }</span>

    /**
     *  Task Five
     *  To be triggered by the &quot;Submit&quot; button on the Task#5 Tab
     *
     */
    @FXML
    void task5SubmitData(ActionEvent event) {
<span class="fc" id="L1360">        doTask5iNameCheck();</span>
<span class="pc bpc" id="L1361" title="1 of 2 branches missed.">        if(hasErrorTask5) return;</span>
<span class="fc" id="L1362">        doTask5iYOBCheck();</span>
<span class="pc bpc" id="L1363" title="1 of 2 branches missed.">        if(hasErrorTask5) return;</span>

<span class="fc" id="L1365">        String iName = task5iNameTextField.getText();</span>
<span class="fc" id="L1366">        String iGender = task5iGenderChoiceBox.getValue().toString();</span>
<span class="fc" id="L1367">        int iYOB = Integer.parseInt( task5iAgeTextField.getText() );</span>
<span class="fc" id="L1368">        String iGenderMate = task5iGenderMateChoiceBox.getValue().toString();</span>
<span class="fc" id="L1369">        String iPreference = task5iPreferenceChoiceBox.getValue().toString();</span>
<span class="fc" id="L1370">        boolean isAlgo1 = task5AlgorithmChoiceBox.getValue().equals(p5AlgorithmChoice.get(0));</span>

<span class="fc" id="L1372">        NameforCompatiblePairs task5 = new NameforCompatiblePairs();</span>

<span class="fc" id="L1374">        boolean validCheck = task5.setData(iName, iGender, iYOB, iGenderMate, iPreference, isAlgo1);</span>
<span class="pc bpc" id="L1375" title="1 of 2 branches missed.">        if(!validCheck){</span>
<span class="nc" id="L1376">            clearAllCharts();</span>
<span class="nc" id="L1377">            String errorReport = &quot;&quot;;</span>
<span class="nc" id="L1378">            errorReport += String.format(&quot;\n*Error: Your name %s can not be found in the database. Please follow the format like \&quot;Mike\&quot;,\&quot;Anna\&quot;&quot;, iName);</span>
<span class="nc" id="L1379">            textAreaConsole.setText(errorReport);</span>
<span class="nc" id="L1380">            return;</span>
        }

<span class="fc bfc" id="L1383" title="All 2 branches covered.">        if (isAlgo1) {</span>
<span class="fc" id="L1384">            pieButton.setVisible(false);</span>
            //lineButton.setVisible(false);
<span class="fc" id="L1386">            textAreaConsole.setText(task5.getSummaryAlgo1());</span>
<span class="fc" id="L1387">            String batTitle = &quot;&quot;; String lineTitle = &quot;&quot;;</span>
<span class="pc bpc" id="L1388" title="1 of 2 branches missed.">            batTitle += String.format(&quot;%s' Most Popular Names in %d&quot;, (iGenderMate.equals(&quot;M&quot;)?&quot;Boys&quot;:&quot;Girls&quot;), iYOB);</span>
<span class="pc bpc" id="L1389" title="2 of 4 branches missed.">            lineTitle += String.format(&quot;Trend of Giving Name %s to New Babies from %d to %d&quot;, task5.getPairName().getName(), (iYOB-3 &lt; 1880)? 1880:iYOB-3, (iYOB+3&gt;2019)? 2019:iYOB+3 );</span>
<span class="fc" id="L1390">            String[] tableTitle = {&quot;Name&quot;, &quot;Occurrences&quot;, &quot;Percentage&quot;};</span>
<span class="fc" id="L1391">            ChartSetter.BarChartSetter(outputBarChart1, batTitle, &quot;Name&quot;, &quot;Occurrence&quot;, &quot;Number of New Babies&quot;, task5.getPairNameList());</span>
<span class="fc" id="L1392">            ChartSetter.TableSetter(outputTable1, 3, tableTitle, task5.getMapListAlgo1() );</span>
<span class="fc" id="L1393">            ChartSetter.LineChartSetter(outputLineChart1, lineTitle, &quot;Year&quot;, &quot;Occurrences&quot;, &quot;Number of New Babies&quot;, task5.getXListAlgo1(), task5.getYListAlgo1());</span>
<span class="fc" id="L1394">        }</span>
        else {
<span class="fc" id="L1396">            pieButton.setVisible(false);</span>
<span class="fc" id="L1397">            lineButton.setVisible(false);</span>
<span class="fc" id="L1398">            textAreaConsole.setText(task5.getSummaryAlgo2());</span>
<span class="fc" id="L1399">            String batTitle = &quot;&quot;;</span>
<span class="fc" id="L1400">            batTitle += String.format(&quot;Compatible Scores for Different Names&quot;);</span>
<span class="fc" id="L1401">            ChartSetter.BarChartSetter3(outputBarChart1, batTitle, &quot;Name&quot;, &quot;Compatible Score&quot;, &quot;Score&quot;, task5.getNameScorePairList());</span>
<span class="fc" id="L1402">            String[] tableTitle = {&quot;Name&quot;, &quot;Compatible Score&quot;, &quot;Length Score&quot;, &quot;Average Popularity Score&quot;};</span>
<span class="fc" id="L1403">            ChartSetter.TableSetter(outputTable1, 4, tableTitle, task5.getMapListAlgo2() );</span>
        }


<span class="fc" id="L1407">    }</span>
    /**
     * display additional information is T5X2 algorithm is selected
     */
    @FXML
    void p5AlgoCheck() {
<span class="fc" id="L1413">        String algo = task5AlgorithmChoiceBox.getValue().toString();</span>
//        boolean hasError = false;
//        if ( !( algo.equals(p4AlgorithmChoice.get(0)) || algo.equals(p4AlgorithmChoice.get(1)) ) ) {
//            p4AlgoError.setText(&quot;Please Select an algorithm&quot;);
//            hasError = true;
//        }
//        p4AlgoError.setVisible(hasError);
//        hasErrorTask4 = hasError;
<span class="fc" id="L1421">        task5NoticeLabel.setVisible(algo.equals(p5AlgorithmChoice.get(1)));</span>
<span class="fc" id="L1422">    }</span>

    /**
     * when click reset button, clear input box and output console
     */
    @FXML
    void task5Reset() {
<span class="nc" id="L1429">        task5AlgorithmChoiceBox.setValue(p5AlgorithmChoice.get(0));</span>
<span class="nc" id="L1430">        task5iGenderChoiceBox.setValue(genderChoice.get(0));</span>
<span class="nc" id="L1431">        task5iGenderMateChoiceBox.setValue(genderChoice.get(0));</span>
<span class="nc" id="L1432">        task5iPreferenceChoiceBox.setValue(ageChoice.get(0));</span>
<span class="nc" id="L1433">        task5iNameTextField.clear();</span>
<span class="nc" id="L1434">        task5iAgeTextField.clear();</span>
<span class="nc" id="L1435">        task5iNameErrorLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L1436">        task5iNameErrorLabel.setVisible(false);</span>
<span class="nc" id="L1437">        task5iAgeErrorLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L1438">        task5iAgeErrorLabel.setVisible(false);</span>
<span class="nc" id="L1439">        task5NoticeLabel.setVisible(false);</span>
<span class="nc" id="L1440">        clearAllCharts();</span>
<span class="nc" id="L1441">    }</span>
    
    // ----------------------------- Task6 Function ------------------------//
    /**
     * record if there's any error in user's input
     */
<span class="fc" id="L1447">    boolean hasErrorTask6 = false;</span>
    
    /**
     * check userName input
     */
    @FXML
    void doTask6UserNameCheck() {
<span class="fc" id="L1454">        String userName = task6UserName.getText();</span>
<span class="fc" id="L1455">        boolean hasError = false;</span>
<span class="pc bpc" id="L1456" title="1 of 2 branches missed.">        if ( userName.isBlank() ) {</span>
<span class="nc" id="L1457">            task6UserNameErrorLabel.setText(&quot;Please Enter a Name&quot;);</span>
<span class="nc" id="L1458">            hasError = true;</span>
        }
<span class="fc" id="L1460">        task6UserNameErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L1461">        hasErrorTask6 = hasError;</span>
<span class="fc" id="L1462">    }</span>
    
    /**
     * check mateName input
     */
    @FXML
    void doTask6MateNameCheck() {
<span class="fc" id="L1469">        String mateName = task6MateName.getText();</span>
<span class="fc" id="L1470">        boolean hasError = false;</span>
<span class="pc bpc" id="L1471" title="1 of 2 branches missed.">        if ( mateName.isBlank() ) {</span>
<span class="nc" id="L1472">            task6MateNameErrorLabel.setText(&quot;Please Enter a Name&quot;);</span>
<span class="nc" id="L1473">            hasError = true;</span>
        }
<span class="fc" id="L1475">        task6MateNameErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L1476">        hasErrorTask6 = hasError;</span>
<span class="fc" id="L1477">    }</span>
    
    /**
     * check selfYOB input
     */
    @FXML
    void doTask6SelfYOBCheck() {
<span class="fc" id="L1484">        String selfYOB = task6SelfYOB.getText();</span>
<span class="fc" id="L1485">        boolean hasError = false;</span>
<span class="pc bpc" id="L1486" title="2 of 4 branches missed.">        if ( selfYOB.isBlank() || !StringUtils.isNumeric(selfYOB) ) {</span>
<span class="nc" id="L1487">            task6SelfYOBErrorLabel.setText(&quot;Please Enter an age number&quot;);</span>
<span class="nc" id="L1488">            hasError = true;</span>
        }
<span class="pc bpc" id="L1490" title="2 of 4 branches missed.">        else if (Integer.parseInt(selfYOB) &lt; 1881 || Integer.parseInt(selfYOB) &gt; 2018) {</span>
<span class="nc" id="L1491">        	task6SelfYOBErrorLabel.setText(&quot;Please Enter an integer between 1881 and 2018&quot;);</span>
<span class="nc" id="L1492">            hasError = true;</span>
        }
        
<span class="fc" id="L1495">        task6SelfYOBErrorLabel.setVisible(hasError);</span>
<span class="fc" id="L1496">        hasErrorTask6 = hasError;</span>
<span class="fc" id="L1497">    }</span>
    
    /**
     *  Task Six
     *  To be triggered by the &quot;Submit&quot; button on the Task#6 Tab
     *
     */
    @FXML
    void task6SubmitData() {
<span class="fc" id="L1506">        doTask6UserNameCheck();</span>
<span class="fc" id="L1507">        doTask6MateNameCheck();</span>
<span class="fc" id="L1508">        doTask6SelfYOBCheck();</span>
<span class="pc bpc" id="L1509" title="1 of 2 branches missed.">        if(hasErrorTask6) return; </span>
        
<span class="fc" id="L1511">        String userName = task6UserName.getText();</span>
<span class="fc" id="L1512">        String mateName = task6MateName.getText();</span>
<span class="fc" id="L1513">        int userYOB = Integer.parseInt(task6SelfYOB.getText());</span>
<span class="fc" id="L1514">        String userGender = (String) task6SelfGenderBox.getValue();</span>
<span class="fc" id="L1515">        String mateGender = (String) task6MateGenderBox.getValue();</span>
<span class="fc" id="L1516">        String agePreference = (String) task6AgePreferenceBox.getValue();</span>
<span class="fc" id="L1517">        String algorithm = (String) task6AlgorithmChoiceBox.getValue();</span>
<span class="fc" id="L1518">        String isMatch = &quot;&quot;;</span>
<span class="fc" id="L1519">        String oReport = &quot;&quot;;</span>
<span class="fc" id="L1520">        PredictScore predictObject = new PredictScore();</span>
        
<span class="fc bfc" id="L1522" title="All 2 branches covered.">        if(algorithm == &quot;T6X1&quot;) {</span>
<span class="fc" id="L1523">        	isMatch = predictObject.predict(userName, mateName);</span>
        	
<span class="fc" id="L1525">        	oReport += String.format(&quot;You two's compatible pair score is %s.\n&quot;</span>
        			+ &quot;\n&quot;
        			+ &quot;How it works?\n&quot;
        			+ &quot;We make prediction based on the name length.\n&quot;
        			+ &quot;- If you tow's name length are the same, you get full score.\n&quot;
        			+ &quot;- Otherwise it's zero.\n&quot;
        			+ &quot;\n&quot;
        			+ &quot;Hope you enjoy this game!&quot;, isMatch);
<span class="fc" id="L1533">        	textAreaConsole.setText(oReport);</span>
        }
        
        else {
<span class="fc" id="L1537">        	isMatch = predictObject.predict2(mateName, agePreference, mateGender, userYOB);</span>
        
<span class="fc" id="L1539">    		oReport += String.format(&quot;The compatible score is %s\n&quot;</span>
    				+ &quot;\n&quot;
    				+ &quot;How it works?\n&quot;
    				+ &quot;- If the target name is the top 100 popular name in at least one year of the year which\n&quot;
    				+ &quot;is earlier or later than the user's year of birth (based on user's age preference),you get full score.\n&quot;
    				+ &quot;- Otherwise you get zero.\n&quot;
    				+ &quot;\n&quot;
    				+ &quot;Hope you enjoy this game!&quot;, isMatch);
        	
<span class="fc" id="L1548">        	textAreaConsole.setText(oReport);</span>
        }
        
<span class="fc" id="L1551">    } </span>
    
    /**
     * when click reset button, clear input box and output console
     */
    @FXML
    void task6Reset() {
<span class="nc" id="L1558">        task6UserName.clear();</span>
<span class="nc" id="L1559">        task6MateName.clear();</span>
<span class="nc" id="L1560">        task6UserNameErrorLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L1561">        task6UserNameErrorLabel.setVisible(false);</span>
<span class="nc" id="L1562">        task6MateNameErrorLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L1563">        task6MateNameErrorLabel.setVisible(false);</span>
<span class="nc" id="L1564">        task6SelfYOBErrorLabel.setText(&quot;&quot;);</span>
<span class="nc" id="L1565">        task6SelfYOBErrorLabel.setVisible(false); </span>
<span class="nc" id="L1566">        clearAllCharts();</span>
<span class="nc" id="L1567">    }</span>


}





</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>